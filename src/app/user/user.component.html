<div class="d-flex justify-content-center my-4 col-12">
  <input
    class="searchInput col-8"
    placeholder="Search post"
    type="text"
    name="search"
    [(ngModel)]="searchText"
  />
  <button
    type="button"
    class="btn btn-primary mx-2"
    data-mdb-toggle="modal"
    data-mdb-target="#exampleModal"
  >
    Add new
  </button>
</div>

<div class="card-container d-flex flex-wrap gap-3 justify-content-center col-10 mx-auto">
  <ng-container *ngFor="let user of users | filter : searchText">
      <div class="card mb-4">
        <div class="card-body text-center d-flex flex-column justify-content-between">
          <img
            [src]="'/assets/img/user-' + (user.gender == 'male' ? 'male' : 'female') + '-image.' + (user.gender == 'male' ? 'jpeg' : 'png')"
            alt="avatar"
            class="rounded-circle img-fluid"
            style="width: 150px"
          />
          <h5 class="my-3">{{ user.name }}</h5>
          <div class="d-flex justify-content-center">
            <button
              type="button"
              class="btn btn-primary"
              routerLink="/detail/{{ user.id }}"
            >
              Details
            </button>
            <button
              type="button"
              class="btn btn-outline-danger ms-1"
              (click)="delete(user)"
            >
              Delete
            </button>
          </div>
        </div>
      </div>
  </ng-container>
</div>

<div class="buttonPage">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <!-- Form per selezionare il numero di utenti per pagina -->
    <div>
      <select
          id="userSelection"
          class="form-select"
          [(ngModel)]="selectedUserCount"
          (change)="getUsers()"
      >
          <option value="5">5</option>
          <option value="10">10</option>
          <option value="20">20</option>
          <option value="50">50</option>
      </select>
  </div>


    <!-- Pulsanti per la navigazione delle pagine -->
    <div>
      <button
        *ngIf="this.userService.nPage != 1"
        type="button"
        #prevPage
        class="btn btn-outline-primary me-2"
        data-mdb-ripple-color="dark"
        (click)="previousPage()"
      >
        Previous Page
      </button>

      <button type="button" class="btn btn-primary" (click)="nextPage()">
        Next Page
      </button>
    </div>
  </div>
</div>


<app-add-user></app-add-user>
